# パン屋原価計算アプリ - スタートガイド

## 最も簡単な起動方法（Windows）

1. **`start.bat` をダブルクリック**

   これだけです！自動的に以下が実行されます：
   - 仮想環境の作成（初回のみ）
   - 必要なパッケージのインストール（初回のみ）
   - アプリケーションの起動

2. **ブラウザでアクセス**

   ```
   http://localhost:5000
   ```

## トラブルが発生した場合

### 手順1: インストール確認

```bash
python check_install.py
```

このスクリプトが問題を自動検出します。

### 手順2: トラブルシューティング

[TROUBLESHOOTING.md](TROUBLESHOOTING.md) を参照してください。

よくある問題：
- ❌ **接続が拒否される** → アプリが起動していない
- ❌ **Python が見つからない** → Python 3.8以上をインストール
- ❌ **ポートエラー** → 別のアプリが5000番ポートを使用中

### 手順3: 手動起動

```bash
# 仮想環境を有効化
venv\Scripts\activate

# パッケージインストール（初回のみ）
pip install -r requirements.txt

# 起動
python run.py
```

## 初回セットアップ（5分）

### 1. 店舗登録

トップページから「新規登録」をクリック

- ログインID: 半角英数字4〜50文字
- 店舗名: あなたのお店の名前
- パスワード: 6文字以上

### 2. 原価計算設定

「設定」メニューから以下を設定：

- ☑ 人件費を含める → 時給を入力
- ☑ 光熱費を含める → 月額光熱費を入力
- 利益率: 例）30%

### 3. 材料登録

「材料管理」→「材料登録」

例：
- 強力粉: 300円/kg
- 砂糖: 200円/kg
- バター: 800円/kg
- アレルゲン: 小麦、乳

### 4. レシピ作成

「レシピ管理」→「レシピ登録」

1. 商品情報を入力
   - 商品名: 例）食パン
   - カテゴリー: 食パン
   - 製造個数: 2個
   - 製造時間: 180分

2. 材料を設定
   - 強力粉: 500g
   - 砂糖: 30g
   - バター: 40g
   - など

### 5. 原価確認

レシピ詳細ページで自動計算された原価が表示されます：

- 材料費: ○○円
- 人件費: ○○円（製造時間 × 時給）
- 光熱費: ○○円
- **1個あたりの原価: ○○円**
- **販売推奨価格: ○○円**

### 6. ラベル印刷

「ラベル作成」ボタンから：

1. 製造日を選択
2. 印刷枚数を入力
3. 表示オプション（原価・価格）を選択
4. 「PDFをダウンロード」

A4用紙に8枚のラベルが印刷されます！

## 主な機能

| 機能 | 説明 |
|------|------|
| 🏪 **店舗管理** | 複数店舗対応、店舗ごとに独立したデータ |
| 📦 **材料管理** | 単価、単位、アレルゲン情報の管理 |
| 📖 **レシピ管理** | 材料リスト、製造個数、カテゴリー分類 |
| 💰 **原価計算** | 材料費+人件費+光熱費の自動計算 |
| 🏷️ **ラベル作成** | 商品ラベルのPDF出力（A4に8枚） |
| ⚙️ **柔軟な設定** | 原価計算方法を店舗ごとにカスタマイズ |

## ファイル構成

```
bakery_cost_calculator/
├── start.bat              ← ★ これをダブルクリック！
├── check_install.py       ← インストール確認
├── TROUBLESHOOTING.md     ← トラブル時はこちら
├── QUICK_START.md         ← コマンドライン起動方法
├── README.md              ← 詳細ドキュメント
└── run.py                 ← アプリ起動スクリプト
```

## 詳細情報

- **詳しい使い方**: [README.md](README.md)
- **トラブル対応**: [TROUBLESHOOTING.md](TROUBLESHOOTING.md)
- **コマンド起動**: [QUICK_START.md](QUICK_START.md)

## システム要件

- Python 3.8以上
- Windows / macOS / Linux
- 空きメモリ 100MB以上

## よくある質問

**Q: オフラインでも使えますか？**
A: はい、インターネット接続は不要です。

**Q: データはどこに保存されますか？**
A: `instance/bakery.db` に保存されます。

**Q: 複数の店舗で使えますか？**
A: はい、店舗ごとにアカウントを作成できます。

**Q: データのバックアップは？**
A: `instance/bakery.db` ファイルをコピーしてください。

**Q: 本番環境で使いたい**
A: PostgreSQLへの移行をお勧めします（README.md参照）

## サポート

問題が発生した場合：

1. [TROUBLESHOOTING.md](TROUBLESHOOTING.md) を確認
2. `python check_install.py` を実行
3. エラーメッセージを記録

---

**それでは、アプリをお楽しみください！**

美味しいパン作りのお役に立てれば幸いです 🥐🍞
